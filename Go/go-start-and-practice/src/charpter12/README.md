charpter12
--------

# 合理的使用并发

1. 了解 goroutine 的生命周期在创建
  - 确保有退出机制，防止内存崩溃
  - 确保设置退出条件可能被触发

2. 避免在不必要的地方使用通道

3. 并发间通信：互斥锁 < 等待组 < 通道

# 反射：性能和灵活的双刃剑
- 性能开销非常大

# 接口的 nil 判断
- 接口即使被赋值为 nil，也不等于 nil，因为包含 Type 信息
- 如果想取零值，一般都是直接返回 nil

# map 的多键值索引
1. 传统手法：使用 Hash
2. 现代手法：使用 map（底层自动Hash）

能够构建哈希的类型必须是是：非动态类型、非指针、函数、闭包

- 非动态类型：可以使用数组，不能使用切片
- 非指针：每个指针数值都不相同，失去了 Hash 的意义
- 函数、闭包不能作为 map 的键

# 优雅的处理 TCP 粘包
